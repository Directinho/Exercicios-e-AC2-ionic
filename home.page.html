<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-segment [(ngModel)]="segmentoSelecionado">
      <ion-segment-button value="exercicios">
        <ion-label>Exercícios</ion-label>
      </ion-segment-button>
      <ion-segment-button value="ac02">
        <ion-label>AC02</ion-label>
      </ion-segment-button>
    </ion-segment>
    <ion-title><h1><img src="https://iili.io/3xtmJDv.png" height="30px" width="30px">Exercicios e ACS</h1></ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>

    </ion-toolbar>
  </ion-header>

  <h1>Bem vindo aos <strong>Exercicios</strong></h1>

  <!-- Exercícios -->
  <div *ngIf="segmentoSelecionado === 'exercicios'">
    <ion-card color="primary" (click)="openModal('gorjeta')">
      <ion-card-header>
        <ion-card-title>Exercício 1</ion-card-title>
        <ion-card-subtitle>Calculadora de Gorjeta</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        Crie um aplicativo simples de calculadora de gorjeta que permita aos usuários ajustar a porcentagem de gorjeta usando um ion-range. Tarefas:
        <br> Crie um ion-range para permitir que o usuário escolha a porcentagem de gorjeta entre 0% e 30% através do ion-range;
        <br> Permita que o usuário insira o valor da conta.
        <br> Calcule e exiba o valor da gorjeta e o valor total (conta + gorjeta).
      </ion-card-content>
    </ion-card>

    <ion-card color="success" (click)="openModal('medida')">
      <ion-card-header>
        <ion-card-title>Exercício 2</ion-card-title>
        <ion-card-subtitle>Conversor de Unidade de Medida</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        Desenvolva um aplicativo que converta valores de uma unidade de medida para outra (por exemplo, de quilômetros para milhas) com base no valor selecionado pelo usuário em um ion-range. Tarefas:
        <br> Crie um ion-range para permitir que o usuário insira o valor a ser convertido.
        <br> Adicione um seletor para permitir que o usuário escolha a unidade de medida de entrada (por exemplo, quilômetros, metros, etc.). Use ion-radio;
        <br> Adicione outro seletor para permitir que o usuário escolha a unidade de medida de saída (por exemplo, milhas, pés, etc.). Use ion-radio;
        <br> Exiba o valor convertido em tempo real à medida que o usuário ajusta o ion-range.
      </ion-card-content>
    </ion-card>

    <ion-card color="warning" (click)="openModal('imc')">
      <ion-card-header>
        <ion-card-title>Exercício 3</ion-card-title>
        <ion-card-subtitle>Calculadora de IMC (Índice de Massa Corporal)</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        Crie uma calculadora de IMC que calcule o índice de massa corporal com base no peso e na altura fornecidos pelo usuário. Tarefas:
        <br> Crie um ion-range para permitir que o usuário insira sua altura em centímetros (ou metros, dependendo da preferência).
        <br> Adicione outro ion-range para permitir que o usuário insira seu peso em quilogramas (ou libras, dependendo da preferência).
        <br> Calcule o IMC utilizando a fórmula: IMC = peso (kg) / (altura (m))^2.
        <br> Exiba o resultado do cálculo do IMC e interprete-o conforme as categorias padrão de IMC (abaixo do peso, peso normal, sobrepeso, obesidade, etc.).
      </ion-card-content>
    </ion-card>
  </div>

  <!-- AC02 -->
  <div *ngIf="segmentoSelecionado === 'ac02'">
    <ion-card color="success" (click)="openModal('transporte')">
      <ion-card-header>
        <ion-card-title>Exercício 01</ion-card-title>
        <ion-card-subtitle>Aplicativo de Transporte</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        Um Aplicativo de Transporte, com diferentes modalidades de carros, cobra da seguinte forma:
        <br> Normal - Inicial: R$5,00 - Km Rodado: R$2,50
        <br> Superior - Inicial: R$7,50 - Km Rodado: R$3,50
        <br> VIP - Inicial: R$10,00 - Km Rodado: R$5,50
        <br> Sua tarefa: desenvolver um APP onde o usuário seleciona o tipo de carro usando ion-radio, digita a quantidade de quilômetros rodados e o app retorna o valor final da viagem.
        ATENÇÃO: O aplicativo fica com 25% do valor da viagem e o motorista com 75%. Quando o valor total da viagem for superior a R$150,00 o App fica com 20% e o motorista com 80%. Exiba, em um alert, o valor final, o valor do Motorista e o valor do APP.
      </ion-card-content>
    </ion-card>

    <ion-card color="warning" (click)="openModal('combustivel')">
      <ion-card-header>
        <ion-card-title>Exercício 02</ion-card-title>
        <ion-card-subtitle>Calculadora de Combustível</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        Elabore um aplicativo que calcula o gasto com combustível. Para isso, o usuário irá selecionar em um ion-radio o tipo de combustível, o preço por litro do combustível e a quilometragem rodada. Exiba, em um alert, o valor a pagar pelo combustível.
        Para que este cálculo seja possível, utilize os dados abaixo:
        <br> ETANOL faz em média 9km/l
        <br> GASOLINA faz em média 12 km/l
        <br> DIESEL faz em média 15km/l
      </ion-card-content>
    </ion-card>
  </div>

  <!-- Modal Exercício 1 -->
  <ion-modal [isOpen]="modalAbertoGorjeta" (didDismiss)="closeModal('gorjeta')">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title><img  class="iconemodal"src="https://iili.io/3TAUVne.png" height="30px" width="30px"><img src="https://iili.io/3TAkD4R.png" height="30px">Calculadora de Gorjeta</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="closeModal('gorjeta')">Fechar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <h2><img src="https://iili.io/3TAUVne.gif" height="25px" width="25px"><span style="vertical-align:bottom">Calculadora de Gorjeta</span></h2>
        <h4>Bem vindo a Calculadora de Gorjeta</h4>
        <ion-input label="Valor da Conta" type="number" label-placement="floating" fill="solid" placeholder="Inserir o Valor" [(ngModel)]="valorCompra"></ion-input>
        <ion-list>
          <ion-item>
            <ion-select label="Configurar Range" placeholder="Escolher opção" (ionChange)="trocarSnaps($event.detail.value)">
              <ion-select-option value="comSnaps">Snaps</ion-select-option>
              <ion-select-option value="semSnaps">Sem Snaps</ion-select-option>
            </ion-select>
          </ion-item>
        </ion-list>
        <ion-range aria-label="Range with pin" [pin]="true" [snaps]="usarSnaps" [pinFormatter]="pinFormatter" min="0" max="30" [(ngModel)]="valorRange" (ionChange)="onIonChange($event)"></ion-range>
        <div class="alinhado">
          <ion-button shape="round" color="danger" (click)="resetar()"><ion-icon name="refresh-circle">|</ion-icon></ion-button>
          <ion-button shape="round" (click)="calc()">Calcular</ion-button>
          <ion-label>
            <h1>Total (com gorjeta): R$ {{total}}</h1>
          </ion-label>
        </div>
      </ion-content>
    </ng-template>
  </ion-modal>

<!-- Modal Exercício 2 -->
<ion-modal [isOpen]="modalAbertoMedida" (didDismiss)="closeModal('medida')">
  <ng-template>
  <ion-header>
  <ion-toolbar>
  <ion-title><img class="iconemodal" src="https://iili.io/3uCsr8u.png" height="30px" width="30px"><img src="https://iili.io/3TAkD4R.png" height="30px">Conversor de Unidade</ion-title>
  <ion-buttons slot="end">
  <ion-button (click)="closeModal('medida')">Fechar</ion-button>
  </ion-buttons>
  </ion-toolbar>
  </ion-header>
  <ion-content class="ion-padding">
  <h2><img src="https://iili.io/3xtsQV9.gif" height="25px" width="25px"><span style="vertical-align:bottom">Conversor de Unidade de Medida</span></h2>
  <ion-item>
  <ion-select label="Converter de" placeholder="Escolha a unidade de entrada" [(ngModel)]="entrada">
  <ion-select-option value="quilômetros">Quilômetros</ion-select-option>
  <ion-select-option value="metros">Metros</ion-select-option>
  <ion-select-option value="centímetros">Centímetros</ion-select-option>
  </ion-select>
  </ion-item>
  <ion-item>
  <ion-select label="Para" placeholder="Escolha a unidade de saída" [(ngModel)]="saida">
  <ion-select-option value="milhas">Milhas</ion-select-option>
  <ion-select-option value="pés">Pés</ion-select-option>
  <ion-select-option value="polegadas">Polegadas</ion-select-option>
  </ion-select>
  </ion-item>
  <h4>Insira o valor a ser convertido</h4>
  <ion-range aria-label="Valor" [(ngModel)]="unidade" min="0" max="1000" step="1" [pin]="true"></ion-range>
  <ion-button shape="round" color="danger" (click)="resetar()"><ion-icon name="refresh-circle">|</ion-icon></ion-button>
  <ion-button shape="round" (click)="conver()">Converter</ion-button>
  <ion-label>
  <h1>Valor Convertido: {{ convertido.toFixed(3) }}</h1>
  </ion-label>
  </ion-content>
  </ng-template>
  </ion-modal>

  <!-- Modal Exercício 3 -->
  <ion-modal [isOpen]="modalAbertoIMC" (didDismiss)="closeModal('imc')">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title><img class="iconemodal" src="https://iili.io/3Tu5RPR.png" height="30px" width="30px"><img src="https://iili.io/3TAkD4R.png" height="30px">Calculadora de IMC</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="closeModal('imc')">Fechar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding" id="alinhado">
        <h2><img src="https://iili.io/3IUds1e.gif" height="30px" width="30px">Calculadora de IMC</h2>
        <h4>Insira sua Altura</h4>
        <ion-select [(ngModel)]="tamanho" label="CM/M" placeholder="Escolha a unidade">
          <ion-select-option value="metros">Metros</ion-select-option>
          <ion-select-option value="centimetros">Centímetros</ion-select-option>
        </ion-select>
        <ion-range [(ngModel)]="altura" aria-label="Altura" [pin]="true" min="0" max="300"></ion-range>
        <h4>Insira seu Peso</h4>
        <ion-select [(ngModel)]="massa" label="Quilogramas/Libras" placeholder="Escolha a unidade">
          <ion-select-option value="quilos">Quilogramas</ion-select-option>
          <ion-select-option value="libras">Libras</ion-select-option>
        </ion-select>
        <ion-range [(ngModel)]="peso" aria-label="Peso" [pin]="true" min="0" max="250"></ion-range>
        <ion-button shape="round" color="danger" (click)="resetar()"><ion-icon name="refresh-circle">|</ion-icon></ion-button>
        <ion-button (click)="IMC()">Calcular IMC</ion-button>
        <br>
        <ion-label><h1>IMC: {{ imc.toFixed(4) }}</h1></ion-label>
      </ion-content>
    </ng-template>
  </ion-modal>

  <!-- AC02 Modal Exercício 1 -->
  <ion-modal [isOpen]="modalAbertoTransporte" (didDismiss)="closeModal('transporte')">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title>
            <img class="iconemodal" src="https://iili.io/3uC0XoP.png" height="30px">
            <img class="alinha" src="https://iili.io/3TAkD4R.png" height="30px">
            Aplicativo de Transporte
          </ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="closeModal('transporte')">Fechar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <h2><img src="https://iili.io/3xiob6v.gif" height="25px" width="25px"><span style="vertical-align:bottom">Aplicativo de Transporte</span></h2>
        <ion-list>
          <ion-item>
            <ion-label>Tipo de Carro</ion-label>
            <ion-select [(ngModel)]="tipo" placeholder="Selecione o tipo">
              <ion-select-option value="normal">Normal</ion-select-option>
              <ion-select-option value="superior">Superior</ion-select-option>
              <ion-select-option value="VIP">VIP</ion-select-option>
            </ion-select>
          </ion-item>
          <ion-item>
            <ion-input label="Km Rodados" type="number" [(ngModel)]="km" placeholder="Digite os quilômetros"></ion-input>
          </ion-item>
        </ion-list>
        <ion-button shape="round" color="danger" (click)="resetar()"><ion-icon name="refresh-circle">|</ion-icon></ion-button>
        <ion-button shape="round" (click)="preco()">Calcular</ion-button>
        <ion-label *ngIf="valor > 0">
          <h1>Valor Total: R$ {{ valor.toFixed(2) }}</h1>
          <h2><img src="https://iili.io/3xtKpm7.gif" height="25px" width="25px">App: R$ {{ app.toFixed(2) }} <br> <img src="https://iili.io/3xtuQJn.gif" height="25px" width="25px">Motorista: R$ {{ motor.toFixed(2) }}</h2>
        </ion-label>
      </ion-content>
    </ng-template>
  </ion-modal>

  <!-- AC02 Modal Exercício 2 -->
  <ion-modal [isOpen]="modalAbertoCombustivel" (didDismiss)="closeModal('combustivel')">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title>
            <img class="iconemodal"src="https://iili.io/3uCF0v4.png" height="30px">
            <img class="alinha" src="https://iili.io/3TAkD4R.png" height="30px">
            Calculadora de Gasto com Combustível
          </ion-title>
        </ion-toolbar>
      </ion-header>
      <ion-content>
        <h2>
          <img src="https://iili.io/3TAPXYG.gif" height="25px" width="25px">
          Calculadora de Gasto com Combustível
        </h2>
        <ion-radio-group value="gasolina" (ionChange)="onFuelChange($event)">
          <!-- Etanol -->
          <div class="radio-container">
            <ion-radio value="etanol" class="custom-radio">
                <img src="https://iili.io/3TRIJRe.png" class="fuel-icon" height="25px" width="25px">
                Etanol
            </ion-radio>
            <div class="button-group" *ngIf="combustivel === 'etanol' && showButtons">
              <ion-button *ngIf="showConfirm" (click)="confirmSelection()" size="small">Confirmar</ion-button>
              <ion-button (click)="cancelSelection()" size="small">Cancelar</ion-button>
            </div>
          </div>

          <!-- Gasolina -->
          <div class="radio-container">
            <ion-radio value="gasolina" class="custom-radio">
                <img src="https://iili.io/3TRodOJ.png" class="fuel-icon" height="30px" width="30px">
                Gasolina
            </ion-radio>
            <div class="button-group" *ngIf="combustivel === 'gasolina' && showButtons">
              <ion-button *ngIf="showConfirm" (click)="confirmSelection()" size="small">Confirmar</ion-button>
              <ion-button (click)="cancelSelection()" size="small">Cancelar</ion-button>
            </div>
          </div>

          <!-- Diesel -->
          <div class="radio-container">
            <ion-radio value="diesel" class="custom-radio">
                <img src="https://iili.io/3TR5sO7.png" class="fuel-icon" height="30px" width="30px">
                Diesel
            </ion-radio>
            <div class="button-group" *ngIf="combustivel === 'diesel' && showButtons">
              <ion-button *ngIf="showConfirm" (click)="confirmSelection()" size="small">Confirmar</ion-button>
              <ion-button (click)="cancelSelection()" size="small">Cancelar</ion-button>
            </div>
          </div>
        </ion-radio-group>

        <div *ngIf="showInput" style="margin-top: 20px;">
          <ion-item>
            <ion-label position="floating">Quilômetros Rodados</ion-label>
            <ion-input type="number" [(ngModel)]="kmRodado" placeholder="Digite os km"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Preço do Combustível</ion-label>
            <ion-input type="number" [(ngModel)]="precoCombustivel" placeholder="Digite o preço"></ion-input>
          </ion-item>
          <div class="calcGasto">
            <ion-button shape="round" color="danger" (click)="resetar()"><ion-icon name="refresh-circle">|</ion-icon></ion-button>
            <ion-button shape="round" (click)="calcGasto()">Calcular</ion-button>
        </div>
        <div class="combustivelR">
        <ion-label><h1 class="resultadocombustivel">{{ gasto.toFixed(4) }}</h1></ion-label>
        </div>
      </div>

      </ion-content>
    </ng-template>
  </ion-modal>
